}
for(category in as.numeric(unlist(dimnames(relevantV14)))) {
  results <- data[data$var14 == category,]$y
  acceptResults <- results[results == 1]
  rejectResults <- results[results == 0]
  print(length(acceptResults))
  print(length(rejectResults))
  print(paste("Category ", category, "percentual acceptance: ", length(acceptResults)/length(results)))
  print("=====", quotes=FALSE)
}
for(category in as.numeric(unlist(dimnames(relevantV14)))) {
  results <- data[data$var14 == category,]$y
  acceptResults <- results[results == 1]
  rejectResults <- results[results == 0]
  print(paste("Category ", category, "percentual acceptance: ", length(acceptResults)/length(results)))
}
for(category in as.numeric(unlist(dimnames(relevantV14)))) {
  results <- data[data$var14 == category,]$y
  acceptResults <- results[results == 1]
  rejectResults <- results[results == 0]
  print(paste("Category", category, "percentual acceptance: ", length(acceptResults)/length(results)))
}
for(category in as.numeric(unlist(dimnames(relevantV14)))) {
  results <- data[data$var14 == category,]$y
  acceptResults <- results[results == 1]
  rejectResults <- results[results == 0]
  print(paste("Category", category, "percentual acceptance:",
    length(acceptResults)/length(results)))
}
table(data$y)
2850/11273
1 - 0.121987951807229
1 - 0.0924956369982548
2850/11273-1
table(data$y)
length(data$y)
length(data$var14)
length(data$y)
11273/14123
for(category in as.numeric(unlist(dimnames(relevantV14)))) {
  results <- data[data$var14 == category,]$y
  acceptResults <- results[results == 1]
  rejectResults <- results[results == 0]
  print(paste("Category", category, "percentual rejection:",
    length(rejectResults)/length(results)))
}
q()
q()
library(ggplot2)
data
data$var26
head(ata$var26)
head(data$var26)
data[c("var26"),]
data[var26]
data["var26"]
data["var26","y"]
data[c("var26","y")]
table(data[c("var26","y")])
table(data[c("var26","y")])[0]
table(data[c("var26","y")])[1]
table(data[c("var26","y")])[2]
columnnames(table(data[c("var26","y")]))
colnames(table(data[c("var26","y")]))
as.data.frame.matrix(table(data[c("var26", "y")]))
as.data.frame.matrix(table(data[c("var26", "y")]))$0
as.data.frame.matrix(table(data[c("var26", "y")]))$"0"
as.data.frame.matrix(table(data[c("var26", "y")]))$"1"
as.data.frame.matrix(table(data[c("var26", "y")]))$id
rownames(as.data.frame.matrix(table(data[c("var26", "y")])))
quit()
data
as.data.frame.matrix(table(data[c("var26", "y")]))
table(data[c("var26", "y")])
yt <- table(data[c("var26", "y")])
yt
yt[0]
yt[1]
yt[2]
yt[1,]
yt[2,]
yt[2,1]
yt[2,2]
yt[2,0]
yt[2,1]
yt <- table(data[c("var26", "y")])
for(a in yt) {
  print(yt)
}
yt <- table(data[c("var26", "y")])
for(a in yt) {
  print(yt)
}range
range
range(10)
range(1,10)
range(1:10)
1:10
yt
length(yt)
length(yt$var26)
rows
row
count(yt)
count
nrow(yt)
for(a in 1:nrow(yt)) {
  print(a)
}
for(a in 1:nrow(yt)) {
  print(yt[a,])
}
yt
yt
yt[1,]
colnames(yt)
yt$id
yt[-999]
yt[0]
yt[1]
yt[1,]
typeof(yt)
keys(yt)
key(yt)
yt
yt <- table(data[c("var26", "y")])
for(a in yt) {
  print(yt)
}
data[c("var26", "y")]
table(data[c("var26", "y")])
yt
yt[1,]
yt[1,1]
yt[1,0]
yt[1,1]
yt[1,2]
yt[1,3]
colnames(yt)
key
keys
data.table(data[c("var26", "y")])
is.table
is.table(table(data[c("var26", "y")]))
?is.table
names
names(yt)
?is.table
as.data.table(table(data[c("var26", "y")]))
as.data.frame(table(data[c("var26", "y")]))
yt <- as.data.frame.matrix(table(data[c("var26", "y")]))
for(a in yt)) {
  print(yt)
}
for(a in yt) {
  print(yt)
}
yt <- as.data.frame.matrix(table(data[c("var26", "y")]))
for(a in yt)) {
  print("Merda)
  print(yt)
  print("Merda)
}
yt <- as.data.frame.matrix(table(data[c("var26", "y")]))
for(a in yt) {
  print("Merda)
  print(yt)
  print("Merda)
}
yt <- as.data.frame.matrix(table(data[c("var26", "y")]))
for(a in yt) {
  print("Merda")
  print(yt)
  print("Merda")
}
yt
yt[1,]
yt[1,0]
yt[1,]
yt[1,][1]
yt[1,][0]
yt[1,]$0
yt[1,]
key(yt[1,])
yt$0
yt
typeof(yt)
yt[0]
yt[1]
yt[2]
yt
yt <- as.data.frame.matrix(table(data[c("var26", "y")]))
yt
yt <- as.data.frame(table(data[c("var26", "y")]))
yt
yt[0]
yt[1]
yt[1,]
yt
ggplot
library(ggplot)
library(ggplot2)
ggplot(yt, aes(fill=y,y=Freq,x=var26)) + geom_bar(position="stack", stat="identity")
yt <- table(data[c("var26", "y")])
ydf <- as.data.frame(yt)
ggplot(ydf, aes(fill=y,y=Freq,x=var26)) + geom_bar(position="stack", stat="identity")
length(yt)
yt
nrows(yt)
nrow(yt)
for(i in 1:nrow(yt)) {
  print(yt[i,])
}
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  print(v)
  print(paste("Rejection percentual: ", v[1]/(v[1]+v[2])
}
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  print(v)
  print(paste("Rejection percentual: ", v[1]/(v[1]+v[2]), quotes=FALSE)
}
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  print(v)
  print(paste("Rejection percentual: ", v[1]/(v[1]+v[2]), quotes=FALSE)
}
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  print(v)
  print(paste("Rejection percentual: ", v[1]/(v[1]+v[2])), quotes=FALSE)
}
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  print(paste("Rejection percentual: ", v[1]/(v[1]+v[2])), quotes=FALSE)
}
yt
yt$var25
yt$var26
yt["var26"]
yt[1]
yt[1,]
key(yt[1,])
rowname(yt[1,])
as.data.frame.matrix(yt)
as.data.frame(yt)
yt
?table
? astable
? as.table
? base.tabl
? base.table
??base.table
? table
quit()
? table
yt
values(yt)
value(yt)
rownames
rownames(yt)
rnames <- rownames(yt)
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  print(paste("Categoria: ", rnames[i], " - Percentual de rejeiÃ§Ã£o: ", v[1]/(v[1]+v[2])), quotes=FALSE)
}
 ggplot(ydf, aes(fill=y,y=Freq,x=var26)) + geom_bar(position="stack", stat="identity")
library(ggplot2)
 ggplot(ydf, aes(fill=y,y=Freq,x=var26)) + geom_bar(position="stack", stat="identity")
categorias <- rownames(yt)
rejeicaoPercentual <- c()
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  append(rejeicaoPercentual, v[1]/(v[1]+v[2])
}
categorias <- rownames(yt)
rejeicaoPercentual <- c()
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  append(rejeicaoPercentual, v[1]/(v[1]+v[2]))
}
rejeicaoPercentual
categorias <- rownames(yt)
rejeicaoPercentual <- list()
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  append(rejeicaoPercentual, v[1]/(v[1]+v[2]))
}
rejeicaoPercentual
categorias <- rownames(yt)
rejeicaoPercentual <- list()
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  rejeicao_percentual <- append(rejeicaoPercentual, v[1]/(v[1]+v[2]))
}
categorias <- rownames(yt)
rejeicaoPercentual <- list()
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  rejeicaoPercentual <- append(rejeicaoPercentual, v[1]/(v[1]+v[2]))
}
rejeicaoPercentual
rejeicaoPercentual[0]
rejeicaoPercentual[1]
categorias <- rownames(yt)
rejeicaoPercentual <- list()
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  rejeicaoPercentual <- append(rejeicaoPercentual, c(v[1]/(v[1]+v[2])))
}
rejeicaoPercentual
categorias <- rownames(yt)
rejeicaoPercentual <- c()
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  rejeicaoPercentual <- c(rejeicaoPercentual, v[1]/(v[1]+v[2]))
}
rejeicaoPercentual
yt[1,]
yt[1,][1]
unlist(yt[1,])
unlist(yt[1,])[0]
unlist(yt[1,])[1]
unlist(yt[1,])[1][1]
categorias
as.number(unlist(yt[1,]))
yt
yt[1]
yt[1,]
yt[1,][0]
yt[1,]$0
yt[1,]$"0"
yt[1,][0]
yt[1,][1]
yt[1,][2]
yt[2,][2]
value(yt[2,][2])
value
val
values
yt[2,][2]
colnames(yt[2,][2])
typeof(yt[2,][2])
yt[2,][2]/2
yt[2,][2]/10
yt[2,][2]/1100
categorias <- rownames(yt)
rejeicaoPercentual <- c()
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  rejeicaoPercentual <- c(rejeicaoPercentual, v[1]/(v[1]+v[2]))
}
data.frame(categorias, rejeicaoPercentual)
categorias <- rownames(yt)
rejeicaoPercentual <- c()
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  rejeicaoPercentual <- c(rejeicaoPercentual, v[1]/(v[1]+v[2]))
}
rejeicao <- data.frame(categorias, rejeicaoPercentual)
ggplot(rejeicao, aes(y="rejeicaoPercentual",x="categorias")) + geom_bar(stat = "identity")
rejeicao
categorias <- rownames(yt)
rejeicaoPercentual <- c()
for(i in 1:nrow(yt)) {
  v <- yt[i,]
  rejeicaoPercentual <- c(rejeicaoPercentual, v[1]/(v[1]+v[2]))
}
rejeicao <- data.frame(categorias, rejeicaoPercentual)
ggplot(rejeicao, aes(y=rejeicaoPercentual,x=categorias)) + geom_bar(stat = "identity")
ggplot(ydf, aes(fill=y,y=Freq,x=var26)) + geom_bar(position="stack", stat="identity")
function (d, varName, f1, f2) {
  yt <- table(d[c(varName, "y")])
  ydf <- as.data.frame(yt)
  categorias <- rownames(yt)
  rejeicaoPercentual <- c()
  for(i in 1:nrow(yt)) {
    v <- yt[i,]
    rejeicaoPercentual <- c(rejeicaoPercentual, v[1]/(v[1]+v[2]))
  }
  rejeicao <- data.frame(categorias, rejeicaoPercentual)
  png(filename=f1)
  plot(ggplot(ydf, aes(fill=y,y=Freq,x=var26)) + geom_bar(position="stack", stat="identity"))
  dev.off()
  png(filename=f2)
  plot(ggplot(rejeicao, aes(y=rejeicaoPercentual,x=categorias)) + geom_bar(stat = "identity"))
  dev.off()
}
saveAnalisys <- function (d, varName, f1, f2) {
  yt <- table(d[c(varName, "y")])
  ydf <- as.data.frame(yt)
  categorias <- rownames(yt)
  rejeicaoPercentual <- c()
  for(i in 1:nrow(yt)) {
    v <- yt[i,]
    rejeicaoPercentual <- c(rejeicaoPercentual, v[1]/(v[1]+v[2]))
  }
  rejeicao <- data.frame(categorias, rejeicaoPercentual)
  png(filename=f1)
  plot(ggplot(ydf, aes(fill=y,y=Freq,x=var26)) + geom_bar(position="stack", stat="identity"))
  dev.off()
  png(filename=f2)
  plot(ggplot(rejeicao, aes(y=rejeicaoPercentual,x=categorias)) + geom_bar(stat = "identity"))
  dev.off()
}
saveAnalysis
saveAnalysis <- function (d, varName, f1, f2) {
  yt <- table(d[c(varName, "y")])
  ydf <- as.data.frame(yt)
  categorias <- rownames(yt)
  rejeicaoPercentual <- c()
  for(i in 1:nrow(yt)) {
    v <- yt[i,]
    rejeicaoPercentual <- c(rejeicaoPercentual, v[1]/(v[1]+v[2]))
  }
  rejeicao <- data.frame(categorias, rejeicaoPercentual)
  png(filename=f1)
  plot(ggplot(ydf, aes(fill=y,y=Freq,x=var26)) + geom_bar(position="stack", stat="identity"))
  dev.off()
  png(filename=f2)
  plot(ggplot(rejeicao, aes(y=rejeicaoPercentual,x=categorias)) + geom_bar(stat = "identity"))
  dev.off()
}
saveAnalysis
saveAnalysis(data, "var26", "var26-stacked.png", "var26-acceptance.png")
q
q()
saveAnalysis(data, "var32", "var32-stacked.png", "var32-acceptance.png")
library(ggplot2)
saveAnalysis(data, "var32", "var32-stacked.png", "var32-acceptance.png")
saveAnalysis <- function (d, varName, f1, f2) {
  yt <- table(d[c(varName, "y")])
  ydf <- as.data.frame(yt)
  categorias <- rownames(yt)
  rejeicaoPercentual <- c()
  for(i in 1:nrow(yt)) {
    v <- yt[i,]
    rejeicaoPercentual <- c(rejeicaoPercentual, v[1]/(v[1]+v[2]))
  }
  rejeicao <- data.frame(categorias, rejeicaoPercentual)
  png(filename=f1)
  plot(ggplot(ydf, aes(fill=y,y=Freq,x=varName)) + geom_bar(position="stack", stat="identity"))
  dev.off()
  png(filename=f2)
  plot(ggplot(rejeicao, aes(y=rejeicaoPercentual,x=categorias)) + geom_bar(stat = "identity"))
  dev.off()
}
saveAnalysis(data, "var32", "var32-stacked.png", "var32-acceptance.png")
saveAnalysis(data, "var26", "var26-stacked.png", "var26-acceptance.png")
saveAnalysis <- function (d, varName, f1, f2) {
  yt <- table(d[c(varName, "y")])
  ydf <- as.data.frame(yt)
  categorias <- rownames(yt)
  rejeicaoPercentual <- c()
  for(i in 1:nrow(yt)) {
    v <- yt[i,]
    rejeicaoPercentual <- c(rejeicaoPercentual, v[1]/(v[1]+v[2]))
  }
  rejeicao <- data.frame(categorias, rejeicaoPercentual)
  png(filename=f1)
  plot(ggplot(ydf, aes_string(fill="y",y="Freq",x=varName)) + geom_bar(position="stack", stat="identity"))
  dev.off()
  png(filename=f2)
  plot(ggplot(rejeicao, aes(y=rejeicaoPercentual,x=categorias)) + geom_bar(stat = "identity"))
  dev.off()
}
saveAnalysis(data, "var26", "var26-stacked.png", "var26-acceptance.png")
saveAnalysis(data, "var32", "var32-stacked.png", "var32-acceptance.png")
for(name in c("var26", "var32", "var42", "var43")) {saveAnalysis(data, name, paste(name,"stacked.png"), paste(name, "acceptance.png"));}
for(name in c("var26", "var32", "var42", "var43")) {saveAnalysis(data, name, paste(name,"stacked.png"), paste(name, "acceptance.png"));}
q()
library(ggplot2)
saveAnalysis <- function (d, varName, f1, f2) {
  yt <- table(d[c(varName, "y")])
  ydf <- as.data.frame(yt)
  categorias <- as.numeric(rownames(yt))
  rejeicaoPercentual <- c()
  for(i in 1:nrow(yt)) {
    v <- yt[i,]
    rejeicaoPercentual <- c(rejeicaoPercentual, v[1]/(v[1]+v[2]))
  }
  rejeicao <- data.frame(categorias, rejeicaoPercentual)
  png(filename=f1)
  plot(ggplot(ydf, aes_string(fill="y",y="Freq",x=varName)) + geom_bar(position="stack", stat="identity"))
  dev.off()
  png(filename=f2)
  plot(ggplot(rejeicao, aes(y=rejeicaoPercentual,x=categorias)) + geom_bar(stat = "identity"))
  dev.off()
}
for(name in c("var26", "var32", "var42", "var43")) {saveAnalysis(data, name, paste(name,"stacked.png"), paste(name, "acceptance.png"));}")
[200~for(name in c("var26", "var32", "var42", "var43")) {saveAnalysis(data, name, paste(name,"stacked.png"), paste(name, "acceptance.png"));})
~
for(name in c("var26", "var32", "var42", "var43")) {saveAnalysis(data, name, paste(name,"stacked.png"), paste(name, "acceptance.png"));})
for(name in c("var26", "var32", "var42", "var43")) {saveAnalysis(data, name, paste(name,"stacked.png"), paste(name, "acceptance.png"));}
q()
data[data$var26>999]
data$var26>999
data$var26>-999
data[data$var26>-999]
data[data$var26>-999,]
name <- "var26; "saveAnalysis(data[data$var26>-999,], name, paste(name,"stacked.png"), paste(name, "acceptance.png"))
name <- "var26"; saveAnalysis(data[data$var26>-999,], name, paste(name,"stacked.png"), paste(name, "acceptance.png"))
library(ggplot2)
name <- "var26"; saveAnalysis(data[data$var26>-999,], name, paste(name,"stacked.png"), paste(name, "acceptance.png"))
q()
library(corrplot)

quants <- metadata[metadata$Variavel.tipo %in% c("Quantitativo discreto", "Quantitativo continua"),]

dataQuants <- data[quants$Variavel.cod]

dataCor <- cor(dataQuants)

corrplot(dataCor)
q()
